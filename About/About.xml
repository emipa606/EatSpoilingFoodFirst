<?xml version="1.0" encoding="utf-8"?>
<ModMetaData>
  <name>Eat Spoiling Food First (Continued)</name>
  <packageId>Mlie.EatSpoilingFoodFirst</packageId>
  <author>nath_dev</author>
  <url>https://github.com/emipa606/EatSpoilingFoodFirst</url>
  <supportedVersions>
    <li>1.3</li>
    <li>1.4</li>
    <li>1.5</li>
  </supportedVersions>
  <modDependencies />
  <loadAfter />
  <description>[img]https://i.imgur.com/buuPQel.png[/img]
Update of nath_devs mod https://steamcommunity.com/sharedfiles/filedetails/?id=2830119751

[img]https://i.imgur.com/pufA0kM.png[/img]

[table]
    [tr][td][url=https://dsc.gg/mlie][img]https://i.imgur.com/zdzzBrc.png[/img][/url][/td] [td][url=https://github.com/emipa606/EatSpoilingFoodFirst][img]https://i.imgur.com/kTkpTOE.png[/img][/url][/td]
    [/tr]
    [tr]
        [td][img]https://i.imgur.com/WjDSfUn.png[/img][/td]
        [td][img]https://i.imgur.com/h5VwTNL.png[/img][/td]
    [/tr]
[/table]
	
[img]https://i.imgur.com/Z4GOv8H.png[/img]
Raging at your pawn eating the freshly cooked meal instead of the stack of spoiling in 1 hour meals ?
Drinking the fresh beers and letting the old ones rot ?

This mod fix this for you by making the pawns eat the most spoiled food first.

Details:

In vanilla Rimworld, what determine if a food is going to get eaten is a value called FoodOptimality (higher the better) and a small constant bonus modifier is applied if a food is going to spoils in less than 12h.

Meaning that a food spoiling in 1 hour has the same value than a food spoiling in 11h (same for 1 day and 3 days).

This mod cancel the vanilla logic and compute the FoodOptimality bonus modifier for spoiling food in a linear fashion according to remaining spoiling time (closest to fully spoiled gets more bonus).

The linear bonus is applied if a food is going to spoiled in less than 3 days and only applies on humans and player animals.

Technicality:

FoodOptimality value is computed according to distance between pawn and food modifier, food mood modifier, food nutrition modifier, ect (distance modifier has the greatest impact).

I've designed the linear spoil modifier to only have on small impact on the FoodOptimality algorithm.
That's means for example that between a 50 tile spoiling food and a really close fresh food, the linear spoil modifier will be negated by the distance modifier.

Mod dependencies : Harmony

Github : https://github.com/nathtest/EatSpoilingFoodFirst

Other mod : 
- Caravan Auto Food Restrictions : https://steamcommunity.com/sharedfiles/filedetails/?id=2792347147

[img]https://i.imgur.com/PwoNOj4.png[/img]
[list]
[*] See if the the error persists if you just have this mod and its requirements active.
[*] If not, try adding your other mods until it happens again.
[*] Post your error-log using [url=https://steamcommunity.com/workshop/filedetails/?id=818773962]HugsLib[/url] or the standalone [url=https://steamcommunity.com/sharedfiles/filedetails/?id=2873415404]Uploader[/url] and command Ctrl+F12
[*] For best support, please use the Discord-channel for error-reporting.
[*] Do not report errors by making a discussion-thread, I get no notification of that.
[*] If you have the solution for a problem, please post it to the GitHub repository.
[*] Use [url=https://github.com/RimSort/RimSort/releases/latest]RimSort[/url] to sort your mods
[/list]

[url=https://steamcommunity.com/sharedfiles/filedetails/changelog/3092186754][img]https://img.shields.io/github/v/release/emipa606/EatSpoilingFoodFirst?label=latest%20version&amp;style=plastic&amp;color=9f1111&amp;labelColor=black[/img][/url]</description>
  <modIconPath IgnoreIfNoMatchingField="True">ModIcon/EatSpoilingFoodFirst</modIconPath>
  <modVersion IgnoreIfNoMatchingField="True">1.5.0</modVersion>
</ModMetaData>